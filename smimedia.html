<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>スマイディア様専用 AI印刷業務効率化システム</title>
  <link rel="stylesheet" href="dist/output.css" />
</head>
<body class="bg-gray-100 font-sans">
  <!-- コンテナ -->
  <div class="max-w-4xl mx-auto py-10 px-4">
    <!-- スマイディア専用ヘッダー -->
    <div class="bg-gradient-to-r from-blue-600 to-green-600 text-white p-6 rounded-lg mb-6 shadow-lg">
      <h1 class="text-3xl font-bold mb-2">📄 スマイディア様専用</h1>
      <h2 class="text-xl">AI印刷業務効率化システム</h2>
      <p class="text-blue-100 mt-2 text-sm">
        印刷業務に特化したAI提案で、見積作成時間を50%短縮、顧客満足度向上を実現
      </p>
    </div>

    <!-- 専用説明セクション -->
    <div class="bg-blue-50 p-4 rounded-lg mb-6 border-l-4 border-blue-500">
      <h3 class="font-semibold text-blue-800 mb-2">🎯 このシステムについて</h3>
      <p class="text-sm text-gray-700 mb-2">
        <strong>スマイディア様の印刷業務</strong>に特化したAI提案システムです。
      </p>
      <ul class="text-xs text-gray-600 space-y-1">
        <li>✅ 見積作成の自動化・時間短縮</li>
        <li>✅ お客様への提案力強化</li>
        <li>✅ 業務フロー最適化</li>
        <li>✅ リアルタイムLINE通知対応</li>
      </ul>
    </div>

    <!-- ========== STEP NAVIGATION ========== -->
    <div id="steps" class="flex justify-between mt-8 mb-6">
      <div class="step-item step-active">1. お客様情報</div>
      <div class="step-item">2. 印刷業務詳細</div>
      <div class="step-item">3. AI提案生成</div>
    </div>

    <!-- ========== STEP 1: 基本情報 ========== -->
    <form id="step1" class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="font-semibold mb-4 text-lg text-gray-800">📋 お客様情報をご入力ください</h2>
      
      <p class="text-sm text-gray-600 mb-6">
        <span class="text-red-500">*</span> は必須項目です
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- 基本情報 -->
        <div>
          <label class="block text-sm font-medium mb-1">会社名 <span class="text-red-500">*</span></label>
          <input type="text" name="company" class="form-input" placeholder="例：株式会社○○印刷" required>
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">ご担当者名 <span class="text-red-500">*</span></label>
          <input type="text" name="name" class="form-input" placeholder="山田 太郎" required>
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">メールアドレス <span class="text-red-500">*</span></label>
          <input type="email" name="email" class="form-input" placeholder="example@company.jp" required>
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">電話番号</label>
          <input type="tel" name="phone" class="form-input" placeholder="03-1234-5678">
        </div>

        <!-- 📱 LINE通知セクション -->
        <div class="col-span-1 md:col-span-2 bg-green-50 p-4 rounded-lg border border-green-200">
          <h3 class="text-md font-semibold text-green-800 mb-3">📱 リアルタイム通知設定（推奨）</h3>
          
          <div class="flex items-center mb-3">
            <input type="checkbox" id="line_notify" name="line_notify" value="yes" class="mr-2">
            <label for="line_notify" class="text-sm font-medium">LINEでリアルタイム通知を受け取る</label>
            <span class="ml-2 bg-green-600 text-white text-xs px-2 py-1 rounded">推奨</span>
          </div>
          
          <div id="line_section" class="hidden">
            <label class="block text-sm font-medium mb-1">LINE ID</label>
            <input type="text" name="line_id" class="form-input mb-2" placeholder="@abc123 または LINE URL">
            <div class="text-xs text-gray-600 bg-white p-3 rounded border">
              💡 <strong>LINE IDがわからない場合：</strong><br>
              1. <a href="#" onclick="showQR()" class="text-green-600 underline font-medium">こちらのQRコード</a>をスキャンして友だち追加<br>
              2. 自動返信でLINE IDをお知らせします<br>
              3. そのIDを上記に入力してください
            </div>
          </div>
        </div>

        <!-- 会社規模 -->
        <div>
          <label class="block text-sm font-medium mb-1">従業員規模</label>
          <select name="employees" class="form-select">
            <option value="">選択してください</option>
            <option value="1-10名">1-10名（小規模）</option>
            <option value="11-30名">11-30名（中小規模）</option>
            <option value="31-100名">31-100名（中規模）</option>
            <option value="101名以上">101名以上（大規模）</option>
          </select>
        </div>

        <!-- 業界は印刷業固定だが、詳細を聞く -->
        <div>
          <label class="block text-sm font-medium mb-1">印刷業界での専門分野</label>
          <select name="print_specialty" class="form-select">
            <option value="">選択してください</option>
            <option value="商業印刷">商業印刷（チラシ・パンフレット）</option>
            <option value="出版印刷">出版印刷（書籍・雑誌）</option>
            <option value="パッケージ印刷">パッケージ印刷</option>
            <option value="大判印刷">大判印刷（ポスター・看板）</option>
            <option value="特殊印刷">特殊印刷（シール・ラベル）</option>
            <option value="総合印刷">総合印刷（幅広く対応）</option>
          </select>
        </div>
      </div>

      <!-- ボタン -->
      <div class="mt-6 flex justify-end space-x-3">
        <button type="reset" class="btn-gray">リセット</button>
        <button id="next1" type="button" class="btn-green">次へ：印刷業務詳細</button>
      </div>
    </form>

    <!-- ========== STEP 2: 印刷業務詳細 (非表示) ========== -->
    <div id="step2" class="hidden bg-white p-6 rounded-lg shadow-md">
      <h2 class="font-semibold mb-4 text-lg text-gray-800">🖨️ 印刷業務の詳細をお聞かせください</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- 主力商品 -->
        <div class="col-span-1 md:col-span-2">
          <label class="block text-sm font-medium mb-2">主力商品・サービス（複数選択可）</label>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-2">
            <label class="flex items-center text-sm p-2 border rounded hover:bg-gray-50">
              <input type="checkbox" name="print_products" value="チラシ・フライヤー" class="mr-2">
              チラシ・フライヤー
            </label>
            <label class="flex items-center text-sm p-2 border rounded hover:bg-gray-50">
              <input type="checkbox" name="print_products" value="パンフレット・カタログ" class="mr-2">
              パンフレット・カタログ
            </label>
            <label class="flex items-center text-sm p-2 border rounded hover:bg-gray-50">
              <input type="checkbox" name="print_products" value="名刺・ショップカード" class="mr-2">
              名刺・ショップカード
            </label>
            <label class="flex items-center text-sm p-2 border rounded hover:bg-gray-50">
              <input type="checkbox" name="print_products" value="ポスター・看板" class="mr-2">
              ポスター・看板
            </label>
            <label class="flex items-center text-sm p-2 border rounded hover:bg-gray-50">
              <input type="checkbox" name="print_products" value="封筒・帳票類" class="mr-2">
              封筒・帳票類
            </label>
            <label class="flex items-center text-sm p-2 border rounded hover:bg-gray-50">
              <input type="checkbox" name="print_products" value="シール・ラベル" class="mr-2">
              シール・ラベル
            </label>
          </div>
        </div>

        <!-- 業務規模 -->
        <div>
          <label class="block text-sm font-medium mb-1">月間受注件数</label>
          <select name="monthly_orders" class="form-select">
            <option value="">選択してください</option>
            <option value="30件未満">30件未満</option>
            <option value="30-100件">30-100件</option>
            <option value="100-300件">100-300件</option>
            <option value="300-500件">300-500件</option>
            <option value="500件以上">500件以上</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">平均受注金額</label>
          <select name="average_order" class="form-select">
            <option value="">選択してください</option>
            <option value="1万円未満">1万円未満</option>
            <option value="1-5万円">1-5万円</option>
            <option value="5-20万円">5-20万円</option>
            <option value="20-50万円">20-50万円</option>
            <option value="50万円以上">50万円以上</option>
          </select>
        </div>

        <!-- 現在の課題（印刷業特化） -->
        <div class="col-span-1 md:col-span-2">
          <label class="block text-sm font-medium mb-2">現在の業務課題（該当するものすべて）</label>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
            <label class="flex items-center text-sm p-3 border rounded hover:bg-red-50">
              <input type="checkbox" name="print_challenges" value="見積作成時間" class="mr-2">
              <div>
                <span class="font-medium">見積作成に時間がかかる</span>
                <p class="text-xs text-gray-500">計算や資料作成が手作業</p>
              </div>
            </label>
            <label class="flex items-center text-sm p-3 border rounded hover:bg-red-50">
              <input type="checkbox" name="print_challenges" value="顧客管理" class="mr-2">
              <div>
                <span class="font-medium">顧客情報管理が大変</span>
                <p class="text-xs text-gray-500">過去の取引履歴の管理</p>
              </div>
            </label>
            <label class="flex items-center text-sm p-3 border rounded hover:bg-red-50">
              <input type="checkbox" name="print_challenges" value="デザイン提案" class="mr-2">
              <div>
                <span class="font-medium">デザイン提案が困難</span>
                <p class="text-xs text-gray-500">お客様の要望の具現化</p>
              </div>
            </label>
            <label class="flex items-center text-sm p-3 border rounded hover:bg-red-50">
              <input type="checkbox" name="print_challenges" value="受注管理" class="mr-2">
              <div>
                <span class="font-medium">受注・進捗管理が煩雑</span>
                <p class="text-xs text-gray-500">スケジュール調整や納期管理</p>
              </div>
            </label>
            <label class="flex items-center text-sm p-3 border rounded hover:bg-red-50">
              <input type="checkbox" name="print_challenges" value="価格競争" class="mr-2">
              <div>
                <span class="font-medium">価格競争が激化</span>
                <p class="text-xs text-gray-500">付加価値の提案が必要</p>
              </div>
            </label>
            <label class="flex items-center text-sm p-3 border rounded hover:bg-red-50">
              <input type="checkbox" name="print_challenges" value="人手不足" class="mr-2">
              <div>
                <span class="font-medium">人手不足・効率化必要</span>
                <p class="text-xs text-gray-500">限られた人員での業務最適化</p>
              </div>
            </label>
          </div>
        </div>

        <!-- 予算と導入時期 -->
        <div>
          <label class="block text-sm font-medium mb-1">効率化システムのご予算</label>
          <select name="budget" class="form-select">
            <option value="">選択してください</option>
            <option value="月額10万円以内">月額10万円以内</option>
            <option value="月額10-30万円">月額10-30万円</option>
            <option value="月額30-50万円">月額30-50万円</option>
            <option value="50万円以上">月額50万円以上</option>
            <option value="要相談">要相談</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">導入希望時期</label>
          <select name="timeline" class="form-select">
            <option value="">選択してください</option>
            <option value="すぐにでも">すぐにでも</option>
            <option value="1ヶ月以内">1ヶ月以内</option>
            <option value="3ヶ月以内">3ヶ月以内</option>
            <option value="半年以内">半年以内</option>
            <option value="検討段階">検討段階</option>
          </select>
        </div>

        <!-- 詳細要望 -->
        <div class="col-span-1 md:col-span-2">
          <label class="block text-sm font-medium mb-1">具体的なご要望・改善したいこと</label>
          <textarea name="details" rows="4" class="form-input" 
            placeholder="例：見積書作成を10分以内にしたい、お客様への提案力を向上させたい、過去の案件データを活用したい など"></textarea>
        </div>
      </div>

      <div class="flex justify-between mt-6">
        <button id="back2" class="btn-gray">前へ</button>
        <button id="next2" class="btn-green">次へ：AI提案生成</button>
      </div>
    </div>

    <!-- ========== STEP 3: AI提案生成 (非表示) ========== -->
    <div id="step3" class="hidden bg-white p-6 rounded-lg shadow-md">
      <h2 class="font-semibold mb-4 text-lg text-gray-800">🤖 スマイディア様専用 AI提案を生成中...</h2>
      
      <div class="mb-4">
        <div class="bg-yellow-50 p-4 rounded border-l-4 border-yellow-400">
          <p class="text-sm text-yellow-800">
            <strong>印刷業界の専門知識</strong>と<strong>最新のAI技術</strong>を組み合わせて、
            御社に最適な効率化提案を作成しています...
          </p>
        </div>
      </div>

      <progress id="progress-ai" class="w-full h-3 mb-4"></progress>
      <pre id="result-ai" class="mt-4 text-sm bg-green-50 p-4 rounded border min-h-32"></pre>

      <div class="mt-6 text-center">
        <button id="submit" onclick="submitForm()" class="btn-green-large">
          📄 詳細提案書をLINE・メールで受け取る
        </button>
      </div>
    </div>
  </div>

  <!-- QRコードモーダル -->
  <div id="qr-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-lg max-w-md mx-4 shadow-xl">
      <h3 class="text-lg font-semibold mb-4 text-center text-green-800">
        🤖 SmartCreative DX 公式LINE
      </h3>
      <div class="text-center mb-4">
        <div class="w-48 h-48 mx-auto flex items-center justify-center bg-white p-2 rounded-lg border-2 border-green-200">
          <img src="images/line-qr.png" alt="SmartCreative DX LINE公式アカウント" 
               class="w-full h-full object-contain rounded">
        </div>
      </div>
      <div class="text-center space-y-2 mb-4">
        <p class="text-sm font-medium text-gray-700">
          📱 スマホでQRコードをスキャン
        </p>
        <p class="text-xs text-gray-600">
          友だち追加後、自動返信でLINE IDをお知らせします<br>
          そのIDを上記フォームに入力してください
        </p>
      </div>
      <button onclick="closeQR()" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-medium">
        閉じる
      </button>
    </div>
  </div>

  <!-- スタイル -->
  <style>
    .btn-green { @apply bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors; }
    .btn-green-large { @apply bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium text-lg; }
    .btn-gray { @apply bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 transition-colors; }
    .form-select { @apply w-full border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500; }
    .step-item { @apply text-sm flex-1 text-center border-b-2 border-gray-300 py-2 transition-colors; }
    .step-active { @apply font-bold border-green-600 text-green-600; }
    .form-input { 
      @apply w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent; 
    }
  </style>

  <!-- JavaScript -->
  <script>
    // DOMが読み込まれてから実行
    document.addEventListener('DOMContentLoaded', function() {
      // LINE通知チェックボックスの制御
      const lineNotify = document.getElementById('line_notify');
      if (lineNotify) {
        lineNotify.addEventListener('change', function() {
          const lineSection = document.getElementById('line_section');
          if (this.checked) {
            lineSection.classList.remove('hidden');
          } else {
            lineSection.classList.add('hidden');
            document.querySelector('input[name="line_id"]').value = '';
          }
        });
      }

      // ステップナビゲーション
      const step1 = document.getElementById('step1');
      const step2 = document.getElementById('step2');
      const step3 = document.getElementById('step3');
      const steps = document.querySelectorAll('.step-item');

      // 次へボタン（Step 1 → Step 2）
      document.getElementById('next1').addEventListener('click', function() {
        step1.classList.add('hidden');
        step2.classList.remove('hidden');
        updateStepIndicator(1);
      });

      // 次へボタン（Step 2 → Step 3）
      document.getElementById('next2').addEventListener('click', function() {
        step2.classList.add('hidden');
        step3.classList.remove('hidden');
        updateStepIndicator(2);
        
        // AI提案生成のシミュレーション
        simulateAIGeneration();
      });

      // 戻るボタン
      document.getElementById('back2').addEventListener('click', function() {
        step2.classList.add('hidden');
        step1.classList.remove('hidden');
        updateStepIndicator(0);
      });

      function updateStepIndicator(activeIndex) {
        steps.forEach((step, index) => {
          if (index === activeIndex) {
            step.classList.add('step-active');
          } else {
            step.classList.remove('step-active');
          }
        });
      }

      function simulateAIGeneration() {
        const progressBar = document.getElementById('progress-ai');
        const resultArea = document.getElementById('result-ai');
        
        let progress = 0;
        const interval = setInterval(() => {
          progress += 10;
          progressBar.value = progress;
          
          if (progress === 30) {
            resultArea.textContent = '🔍 印刷業界のベストプラクティスを分析中...';
          } else if (progress === 60) {
            resultArea.textContent = '🔍 スマイディア様の業務に最適化中...\n💡 見積作成の自動化案を生成中...';
          } else if (progress === 90) {
            resultArea.textContent = '🔍 最終調整中...\n💡 ROI計算とコスト効果を算出中...';
          } else if (progress >= 100) {
            clearInterval(interval);
            showFinalProposal();
          }
        }, 300);
      }

      function showFinalProposal() {
        const resultArea = document.getElementById('result-ai');
        resultArea.innerHTML = `
<strong>🎯 スマイディア様専用 AI効率化提案</strong>

<strong>■ 見積作成時間 50%短縮案</strong>
・AI自動計算による見積書生成（5分→2分30秒）
・過去実績データベースとの自動照合
・顧客別価格設定の自動適用

<strong>■ 顧客提案力強化</strong>
・デザインサンプル自動生成機能
・類似事例の自動検索・提示
・ROI提示による提案力向上

<strong>■ 期待効果</strong>
・月間作業時間：40時間短縮
・受注率：15%向上見込み
・顧客満足度：大幅改善

<strong>■ 導入コスト</strong>
・初期費用：無料（2週間PoC）
・月額費用：25万円〜
・ROI：3ヶ月で投資回収見込み

詳細な提案書とデモをご希望の場合は、
下記ボタンよりお申込みください。
        `;
      }

      // フォーム送信処理
      function submitForm() {
        const formData = collectFormData();
        
        // Make.comにデータ送信
        fetch('https://hook.us2.make.com/x2wx9o9j3hecicogslnlht6lnwrlm4gx', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
        })
        .then(response => response.json())
        .then(data => {
          alert('✅ お申し込みを受け付けました！\n\nLINE通知を設定された場合は、間もなく通知が届きます。\nメールでの詳細資料も送信いたします。');
        })
        .catch(error => {
          console.error('Error:', error);
          alert('❌ 送信中にエラーが発生しました。\n\nお手数ですが、直接メールにてお問い合わせください。');
        });
      }

      // フォームデータ収集
      function collectFormData() {
        const formData = {};
        
        // Step 1のデータ
        formData.company = document.querySelector('input[name="company"]').value;
        formData.name = document.querySelector('input[name="name"]').value;
        formData.email = document.querySelector('input[name="email"]').value;
        formData.phone = document.querySelector('input[name="phone"]').value;
        formData.line_notify = document.querySelector('input[name="line_notify"]').checked ? 'yes' : 'no';
        formData.line_id = document.querySelector('input[name="line_id"]').value;
        formData.employees = document.querySelector('select[name="employees"]').value;
        formData.print_specialty = document.querySelector('select[name="print_specialty"]').value;
        
        // Step 2のデータ - チェックボックスの値を配列で取得
        const printProducts = [];
        document.querySelectorAll('input[name="print_products"]:checked').forEach(cb => {
          printProducts.push(cb.value);
        });
        formData.print_products = printProducts;
        
        formData.monthly_orders = document.querySelector('select[name="monthly_orders"]').value;
        formData.average_order = document.querySelector('select[name="average_order"]').value;
        
        const printChallenges = [];
        document.querySelectorAll('input[name="print_challenges"]:checked').forEach(cb => {
          printChallenges.push(cb.value);
        });
        formData.print_challenges = printChallenges;
        
        formData.budget = document.querySelector('select[name="budget"]').value;
        formData.timeline = document.querySelector('select[name="timeline"]').value;
        formData.details = document.querySelector('textarea[name="details"]').value;
        
        return formData;
      }
    });

    // QRコードモーダル制御
    function showQR() {
      document.getElementById('qr-modal').classList.remove('hidden');
      document.getElementById('qr-modal').classList.add('flex');
    }

    function closeQR() {
      document.getElementById('qr-modal').classList.add('hidden');
      document.getElementById('qr-modal').classList.remove('flex');
    }
  </script>
</body>
</html>
